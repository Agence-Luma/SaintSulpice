import{l as $,o as r,x as y,w as b,r as u,z as o,A as S,c as a,I as g,b as F,y as j,F as x,n as N,d as w,t as B,k as v,J as V,f as A}from"./CkR8XCFB.js";import{P as L}from"./0aEAp_Yx.js";import{P as z}from"./D7hqXWuV.js";const f={listItem:"list-item",oListItem:"o-list-item",list:"group-list-item",oList:"group-o-list-item",span:"span"},T=()=>(++T.i).toString();T.i=0;const E=e=>{const i=H(e),s=[];for(let n=0;n<i.length;n++)s.push(D(i[n]));return{key:T(),children:s}},k=(e,i=[])=>({key:T(),type:e.type,text:"text"in e?e.text:void 0,node:e,children:i}),R=e=>k({type:f.span,text:e,spans:[]}),H=e=>{const i=e.slice(0);for(let s=0;s<i.length;s++){const n=i[s];if(n.type===f.listItem||n.type===f.oListItem){const l=[n];for(;i[s+1]&&i[s+1].type===n.type;)l.push(i[s+1]),i.splice(s,1);n.type===f.listItem?i[s]={type:f.list,items:l}:i[s]={type:f.oList,items:l}}}return i},D=e=>{if("text"in e)return k(e,O(e.spans,e));if("items"in e){const i=[];for(let s=0;s<e.items.length;s++)i.push(D(e.items[s]));return k(e,i)}return k(e)},O=(e,i,s)=>{if(!e.length)return[R(i.text)];const n=e.slice(0);n.sort((t,d)=>t.start-d.start||d.end-t.end);const l=[];for(let t=0;t<n.length;t++){const d=n[t],h=s&&s.start||0,c=d.start-h,P=d.end-h,I=i.text.slice(c,P),C=[];for(let p=t;p<n.length;p++){const m=n[p];m!==d&&(m.start>=d.start&&m.end<=d.end?(C.push(m),n.splice(p,1),p--):m.start<d.end&&m.end>d.start&&(C.push({...m,end:d.end}),n[p]={...m,start:d.end}))}t===0&&c>0&&l.push(R(i.text.slice(0,c)));const q={...d,text:I};l.push(k(q,O(C,{...i,text:I},d))),P<i.text.length&&l.push(R(i.text.slice(P,n[t+1]?n[t+1].start-h:void 0)))}return l},J=e=>!!e&&(typeof e=="function"||typeof e=="object"&&("render"in e&&typeof e.render=="function"||"setup"in e&&typeof e.setup=="function"||"__file"in e&&!!e.__file||"__name"in e&&!!e.__name||"props"in e&&typeof e.props=="object")),M=["dir"],W=["dir"],G=["dir"],K=["dir"],Q=["dir"],U=["dir"],X=["dir"],Y=["dir"],Z=["dir"],_={key:15,class:"block-img"},ee=["data-oembed","data-oembed-type","data-oembed-provider","innerHTML"],te={key:0};var ne=$({name:"PrismicRichTextDefaultComponent",__name:"PrismicRichTextDefaultComponent",props:{node:{type:null,required:!0},linkResolver:{type:Function,required:!1},shorthand:{type:Object,required:!1}},setup(e){const i=e,s=v(()=>i.node.type!=="image"&&i.node.type!=="hyperlink"&&i.node.type!=="label"&&i.node.type!=="span"?i.shorthand?.as:void 0),n=v(()=>{const{as:t,...d}=i.shorthand??{};return d}),l=v(()=>"direction"in i.node&&i.node.direction==="rtl"?"rtl":void 0);return(t,d)=>s.value?(r(),y(S(s.value),o({key:0,dir:l.value},n.value),{default:b(()=>[u(t.$slots,"default")]),_:3},16,["dir"])):e.node.type==="heading1"?(r(),a("h1",o({key:1,dir:l.value},n.value),[u(t.$slots,"default")],16,M)):e.node.type==="heading2"?(r(),a("h2",o({key:2,dir:l.value},n.value),[u(t.$slots,"default")],16,W)):e.node.type==="heading3"?(r(),a("h3",o({key:3,dir:l.value},n.value),[u(t.$slots,"default")],16,G)):e.node.type==="heading4"?(r(),a("h4",o({key:4,dir:l.value},n.value),[u(t.$slots,"default")],16,K)):e.node.type==="heading5"?(r(),a("h5",o({key:5,dir:l.value},n.value),[u(t.$slots,"default")],16,Q)):e.node.type==="heading6"?(r(),a("h6",o({key:6,dir:l.value},n.value),[u(t.$slots,"default")],16,U)):e.node.type==="paragraph"?(r(),a("p",o({key:7,dir:l.value},n.value),[u(t.$slots,"default")],16,X)):e.node.type==="preformatted"?(r(),a("pre",g(o({key:8},n.value)),[u(t.$slots,"default")],16)):e.node.type==="strong"?(r(),a("strong",g(o({key:9},n.value)),[u(t.$slots,"default")],16)):e.node.type==="em"?(r(),a("em",g(o({key:10},n.value)),[u(t.$slots,"default")],16)):e.node.type==="list-item"?(r(),a("li",o({key:11,dir:l.value},n.value),[u(t.$slots,"default")],16,Y)):e.node.type==="o-list-item"?(r(),a("li",o({key:12,dir:l.value},n.value),[u(t.$slots,"default")],16,Z)):e.node.type==="group-list-item"?(r(),a("ul",g(o({key:13},n.value)),[u(t.$slots,"default")],16)):e.node.type==="group-o-list-item"?(r(),a("ol",g(o({key:14},n.value)),[u(t.$slots,"default")],16)):e.node.type==="image"?(r(),a("p",_,[e.node.linkTo?(r(),y(z,{key:0,field:e.node.linkTo},{default:b(()=>[F(L,o({field:e.node},n.value),null,16,["field"])]),_:1},8,["field"])):(r(),y(L,o({key:1,field:e.node},n.value),null,16,["field"]))])):e.node.type==="embed"?(r(),a("div",o({key:16,"data-oembed":e.node.oembed.embed_url,"data-oembed-type":e.node.oembed.type,"data-oembed-provider":e.node.oembed.provider_name,innerHTML:e.node.oembed.html},n.value),null,16,ee)):e.node.type==="hyperlink"?(r(),y(z,o({key:17,field:e.node.data,"link-resolver":e.linkResolver},n.value),{default:b(()=>[u(t.$slots,"default")]),_:3},16,["field","link-resolver"])):e.node.type==="label"?(r(),a("span",o({key:18,class:e.node.data.label},n.value),[u(t.$slots,"default")],16)):(r(!0),a(x,{key:19},j(e.node.text.split(`
`),(h,c)=>(r(),a(x,{key:h},[c>0?(r(),a("br",te)):N("v-if",!0),w(B(h),1)],64))),128))}}),ie=ne,re=$({name:"PrismicRichTextSerialize",__name:"PrismicRichTextSerialize",props:{children:{type:null,required:!0},internalComponents:{type:Object,required:!0}},setup(e){const i=e;return(s,n)=>{const l=V("PrismicRichTextSerialize",!0);return r(!0),a(x,null,j(i.children,t=>(r(),y(S(e.internalComponents[t.type].is),{key:JSON.stringify(t),node:t.node,"link-resolver":e.internalComponents[t.type].linkResolver,shorthand:e.internalComponents[t.type].shorthand},{default:b(()=>[t.children.length?(r(),y(l,{key:0,children:t.children,"internal-components":e.internalComponents},null,8,["children","internal-components"])):N("v-if",!0)]),_:2},1032,["node","link-resolver","shorthand"]))),128)}}}),se=re,le=$({name:"PrismicRichText",__name:"PrismicRichText",props:{field:{type:Array},linkResolver:{type:Function},components:{type:Object},fallback:{type:[String,Object,Function]}},setup(e){const i=e,{components:{richTextComponents:s}}=A(),n=v(()=>({...s,...i.components})),l=v(()=>E(i.field||[]).children);function t(h){const c=n.value?.[h];return J(c)?{is:c}:{is:ie,linkResolver:i.linkResolver,shorthand:c}}const d=v(()=>({heading1:t("heading1"),heading2:t("heading2"),heading3:t("heading3"),heading4:t("heading4"),heading5:t("heading5"),heading6:t("heading6"),paragraph:t("paragraph"),preformatted:t("preformatted"),strong:t("strong"),em:t("em"),"list-item":t("listItem"),"o-list-item":t("oListItem"),"group-list-item":t("list"),"group-o-list-item":t("oList"),image:t("image"),embed:t("embed"),hyperlink:t("hyperlink"),label:t("label"),span:t("span")}));return(h,c)=>l.value.length?(r(),y(se,{key:0,children:l.value,"internal-components":d.value},null,8,["children","internal-components"])):e.fallback?(r(),y(S(e.fallback),{key:1})):N("v-if",!0)}}),ue=le;export{ue as P};
