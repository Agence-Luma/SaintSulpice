import{K as f,l as w,o as _,c as v,n as P,k as y,L as x}from"./CkR8XCFB.js";const S=i=>i.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`),d=(i,e)=>{const s=new URL(i);for(const r in e){const a=S(r),n=e[r];n===void 0?s.searchParams.delete(a):Array.isArray(n)?s.searchParams.set(a,n.join(",")):s.searchParams.set(a,`${n}`)}const t=s.searchParams.get("s");return t&&(s.searchParams.delete("s"),s.searchParams.append("s",t)),s.toString()},b=(i,{pixelDensities:e,...s})=>e.map(t=>`${d(i,{...s,dpr:t})} ${t}x`).join(", "),h=(i,{widths:e,...s})=>e.map(t=>`${d(i,{...s,w:void 0,h:void 0,height:void 0,width:t})} ${t}w`).join(", "),g=[640,828,1200,2048,3840],D=(i,e={})=>{if(i&&f(i)){let{widths:s=g,...t}=e;const{url:r,dimensions:a,id:n,alt:c,copyright:u,edit:m,...o}=i,l=Object.values(o);return s==="thumbnails"&&l.length<1&&(s=g),{src:d(r,t),srcset:s==="thumbnails"?[h(r,{...t,widths:[a.width]}),...l.map(p=>h(p.url,{...t,widths:[p.dimensions.width]}))].join(", "):h(i.url,{...t,widths:s})}}else return null},I=[1,2,3],q=(i,e={})=>{if(i&&f(i)){const{pixelDensities:s=I,...t}=e;return{src:d(i.url,t),srcset:b(i.url,{...t,pixelDensities:s})}}else return null},N=["src","srcset","alt","width","height"];var A=w({name:"PrismicImage",__name:"PrismicImage",props:{field:{type:null,required:!0},imgixParams:{type:null,required:!1},alt:{type:String,required:!1},fallbackAlt:{type:String,required:!1},width:{type:[Number,String],required:!1},height:{type:[Number,String],required:!1},widths:{type:null,required:!1},pixelDensities:{type:null,required:!1}},setup(i){const e=i,s=r=>{if(typeof r=="number"||typeof r>"u")return r;{const a=Number.parseInt(r);return Number.isNaN(a)?void 0:a}},t=y(()=>{if(!x.imageThumbnail(e.field))return;let r,a;if(e.widths||!e.pixelDensities){const l=D(e.field,{...e.imgixParams,widths:e.widths==="defaults"?void 0:e.widths});r=l.src,a=l.srcset}else if(e.pixelDensities){const l=q(e.field,{...e.imgixParams,pixelDensities:e.pixelDensities==="defaults"?void 0:e.pixelDensities});r=l.src,a=l.srcset}const n=e.field.dimensions.width/e.field.dimensions.height,c=s(e.width),u=s(e.height);let m=c??e.field.dimensions.width,o=u??e.field.dimensions.height;return c!=null&&u==null?o=c/n:c==null&&u!=null&&(m=u*n),{src:r,srcSet:a,alt:e.alt??(e.field.alt||e.fallbackAlt),width:Math.round(m),height:Math.round(o)}});return(r,a)=>t.value?(_(),v("img",{key:0,src:t.value.src,srcset:t.value.srcSet,alt:t.value.alt,width:t.value.width,height:t.value.height},null,8,N)):P("v-if",!0)}}),T=A;export{T as P};
